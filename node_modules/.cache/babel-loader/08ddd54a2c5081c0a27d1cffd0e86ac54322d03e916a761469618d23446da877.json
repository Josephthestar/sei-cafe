{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import{signUp}from'../../utilities/users-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpForm=/*#__PURE__*/function(_Component){_inherits(SignUpForm,_Component);var _super=_createSuper(SignUpForm);function SignUpForm(){var _this;_classCallCheck(this,SignUpForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',email:'',password:'',confirm:'',error:''};_this.handleChange=function(evt){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,evt.target.name,evt.target.value),_defineProperty(_this$setState,\"error\",''),_this$setState));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var _this$state,name,email,password,formData,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.prev=1;_this$state=_this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password;formData={name:name,email:email,password:password};// The promise returned by the signUp service\n// method will resolve to the user object included\n// in the payload of the JSON Web Token (JWT)\n_context.next=6;return signUp(formData);case 6:user=_context.sent;_this.props.setUser(user);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);// An error occurred\n// Probably due to a duplicate email\n_this.setState({error:'Sign Up Failed - Try Again'});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SignUpForm,[{key:\"render\",value:function render(){var disable=this.state.password!==this.state.confirm;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:this.state.name,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm\",value:this.state.confirm,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:disable,children:\"SIGN UP\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",this.state.error]})]});}}]);return SignUpForm;}(Component);export{SignUpForm as default};","map":{"version":3,"names":["Component","signUp","SignUpForm","state","name","email","password","confirm","error","handleChange","evt","setState","target","value","handleSubmit","preventDefault","formData","user","props","setUser","disable"],"sources":["/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/src/components/SignUpForm/SignUpForm.jsx"],"sourcesContent":["import { Component } from 'react';\nimport { signUp } from '../../utilities/users-service';\n\nexport default class SignUpForm extends Component {\n  state = {\n    name: '',\n    email: '',\n    password: '',\n    confirm: '',\n    error: ''\n  };\n\n  handleChange = (evt) => {\n    this.setState({\n      [evt.target.name]: evt.target.value,\n      error: ''\n    });\n  };\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    try {\n      const {name, email, password} = this.state;\n      const formData = {name, email, password};\n      // The promise returned by the signUp service\n      // method will resolve to the user object included\n      // in the payload of the JSON Web Token (JWT)\n      const user = await signUp(formData);\n      this.props.setUser(user);\n    } catch {\n      // An error occurred\n      // Probably due to a duplicate email\n      this.setState({ error: 'Sign Up Failed - Try Again' });\n    }\n  };\n\n  render() {\n    const disable = this.state.password !== this.state.confirm;\n    return (\n      <div>\n        <div className=\"form-container\">\n          <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n            <label>Name</label>\n            <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} required />\n            <label>Email</label>\n            <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} required />\n            <label>Password</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n            <label>Confirm</label>\n            <input type=\"password\" name=\"confirm\" value={this.state.confirm} onChange={this.handleChange} required />\n            <button type=\"submit\" disabled={disable}>SIGN UP</button>\n          </form>\n        </div>\n        <p className=\"error-message\">&nbsp;{this.state.error}</p>\n      </div>\n    );\n  }\n}"],"mappings":"0iCAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,MAAM,KAAQ,+BAA+B,CAAC,2FAElCC,WAAU,2UAC7BC,KAAK,CAAG,CACNC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EACT,CAAC,OAEDC,YAAY,CAAG,SAACC,GAAG,CAAK,oBACtB,MAAKC,QAAQ,mDACVD,GAAG,CAACE,MAAM,CAACR,IAAI,CAAGM,GAAG,CAACE,MAAM,CAACC,KAAK,yCAC5B,EAAE,kBACT,CACJ,CAAC,OAEDC,YAAY,4FAAG,iBAAOJ,GAAG,sKACvBA,GAAG,CAACK,cAAc,EAAE,CAAC,4BAEa,MAAKZ,KAAK,CAAnCC,IAAI,aAAJA,IAAI,CAAEC,KAAK,aAALA,KAAK,CAAEC,QAAQ,aAARA,QAAQ,CACtBU,QAAQ,CAAG,CAACZ,IAAI,CAAJA,IAAI,CAAEC,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CACxC;AACA;AACA;AAAA,sBACmBL,OAAM,CAACe,QAAQ,CAAC,QAA7BC,IAAI,eACV,MAAKC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,CAAC,iFAEzB;AACA;AACA,MAAKN,QAAQ,CAAC,CAAEH,KAAK,CAAE,4BAA6B,CAAC,CAAC,CAAC,qEAE1D,0HAED,iBAAS,CACP,GAAMY,QAAO,CAAG,IAAI,CAACjB,KAAK,CAACG,QAAQ,GAAK,IAAI,CAACH,KAAK,CAACI,OAAO,CAC1D,mBACE,oCACE,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,cAAM,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAE,IAAI,CAACO,YAAa,wBACnD,+BAAmB,cACnB,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAE,IAAI,CAACX,KAAK,CAACC,IAAK,CAAC,QAAQ,CAAE,IAAI,CAACK,YAAa,CAAC,QAAQ,OAAG,cAC/F,gCAAoB,cACpB,cAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACE,KAAM,CAAC,QAAQ,CAAE,IAAI,CAACI,YAAa,CAAC,QAAQ,OAAG,cAClG,mCAAuB,cACvB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACG,QAAS,CAAC,QAAQ,CAAE,IAAI,CAACG,YAAa,CAAC,QAAQ,OAAG,cAC3G,kCAAsB,cACtB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACI,OAAQ,CAAC,QAAQ,CAAE,IAAI,CAACE,YAAa,CAAC,QAAQ,OAAG,cACzG,eAAQ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEW,OAAQ,qBAAiB,GACpD,EACH,cACN,WAAG,SAAS,CAAC,eAAe,kBAAQ,IAAI,CAACjB,KAAK,CAACK,KAAK,GAAK,GACrD,CAEV,CAAC,wBArDqCR,SAAS,SAA5BE,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}