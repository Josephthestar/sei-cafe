{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import*as usersService from'../../utilities/users-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(_ref){var setUser=_ref.setUser;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function handleChange(evt){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},evt.target.name,evt.target.value)));setError('');}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Prevent form from being submitted to the server\nevt.preventDefault();_context.prev=1;_context.next=4;return usersService.login(credentials);case 4:user=_context.sent;setUser(user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError('Log In Failed - Try Again');case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:credentials.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"LOG IN\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",error]})]});}","map":{"version":3,"names":["useState","usersService","LoginForm","setUser","email","password","credentials","setCredentials","error","setError","handleChange","evt","target","name","value","handleSubmit","preventDefault","login","user"],"sources":["/Users/josephrihan/Desktop/Software_Engineering_Immersive/sei-cafe/src/components/LoginForm/LoginForm.jsx"],"sourcesContent":["import { useState } from 'react';\nimport * as usersService from '../../utilities/users-service';\n\nexport default function LoginForm({ setUser }) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n\n  function handleChange(evt) {\n    setCredentials({ ...credentials, [evt.target.name]: evt.target.value });\n    setError('');\n  }\n\n  async function handleSubmit(evt) {\n    // Prevent form from being submitted to the server\n    evt.preventDefault();\n    try {\n      // The promise returned by the signUp service method \n      // will resolve to the user object included in the\n      // payload of the JSON Web Token (JWT)\n      const user = await usersService.login(credentials);\n      setUser(user);\n    } catch {\n      setError('Log In Failed - Try Again');\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"form-container\">\n        <form autoComplete=\"off\" onSubmit={handleSubmit}>\n          <label>Email</label>\n          <input type=\"text\" name=\"email\" value={credentials.email} onChange={handleChange} required />\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={credentials.password} onChange={handleChange} required />\n          <button type=\"submit\">LOG IN</button>\n        </form>\n      </div>\n      <p className=\"error-message\">&nbsp;{error}</p>\n    </div>\n  );\n}"],"mappings":"ywBAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,GAAKC,aAAY,KAAM,+BAA+B,CAAC,wFAE9D,cAAe,SAASC,UAAS,MAAc,IAAXC,QAAO,MAAPA,OAAO,CACzC,cAAsCH,QAAQ,CAAC,CAC7CI,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,wCAHKC,WAAW,eAAEC,cAAc,eAIlC,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eAEtB,QAASC,aAAY,CAACC,GAAG,CAAE,CACzBJ,cAAc,gCAAMD,WAAW,wBAAGK,GAAG,CAACC,MAAM,CAACC,IAAI,CAAGF,GAAG,CAACC,MAAM,CAACE,KAAK,GAAG,CACvEL,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,QAEcM,aAAY,kJAA3B,iBAA4BJ,GAAG,6HAC7B;AACAA,GAAG,CAACK,cAAc,EAAE,CAAC,sCAKAf,aAAY,CAACgB,KAAK,CAACX,WAAW,CAAC,QAA5CY,IAAI,eACVf,OAAO,CAACe,IAAI,CAAC,CAAC,+EAEdT,QAAQ,CAAC,2BAA2B,CAAC,CAAC,oEAEzC,+CAED,mBACE,oCACE,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,cAAM,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAEM,YAAa,wBAC9C,gCAAoB,cACpB,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAET,WAAW,CAACF,KAAM,CAAC,QAAQ,CAAEM,YAAa,CAAC,QAAQ,OAAG,cAC7F,mCAAuB,cACvB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAEJ,WAAW,CAACD,QAAS,CAAC,QAAQ,CAAEK,YAAa,CAAC,QAAQ,OAAG,cACvG,eAAQ,IAAI,CAAC,QAAQ,oBAAgB,GAChC,EACH,cACN,WAAG,SAAS,CAAC,eAAe,kBAAQF,KAAK,GAAK,GAC1C,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}